<!DOCTYPE HTML>
<html>
    <head>
        <meta charset="UTF-8">
        <title>首页</title>

        <script src="/external/require/require.js" type="text/javascript"></script>
        <script src="/external/require/require.custom.js" type="text/javascript"></script>
        
        <script src="/external/avalon/mmRouter.js" type="text/javascript"></script>

        <script src="/external/jquery/jquery.js" type="text/javascript"></script>
        <link href="/external/semantic/dist/semantic.css" rel="stylesheet" type="text/css">
        <script src="/external/semantic/dist/semantic.js" type="text/javascript"></script>
        
    </head>
    <body ms-controller="main">
        <h1>{{view.title}}</h1>

        <div ms-include-src="{{view.header.url}}"></div>

        <div ms-include-src="{{view.footer}}"></div>

        <a ms-href="view.page.user">user</a>

        <!-- 尾部公用js -->
        <script type="text/javascript">
            ;require(["av"],function(av){
                "use strict";
                
                var vm = av.define({
                    $id : "main",
                    // 布局对象
                    view : {
                        header : {
                            url : require.toUrl("layout/common/header.html")
                        },
                        footer : require.toUrl("layout/common/footer.html"),
                        title : "Main",
                        page : {
                            user : "#!user"
                        }
                    },

                    // 事件对象
                    event : {
                    }

                });

                console.log("main vm",vm);

                vm.scan();
            });
        </script>
    </body>
</html>